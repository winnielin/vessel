<!DOCTYPE html>
<html lang="en">

<head>
  <title>Vessel Geo Monitoring</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
  <link rel="icon" type="image/png" sizes="32x32" href="https://insurwave.com/images/favicon-32x32.png">  
  <link rel="icon" type="image/png" sizes="16x16" href="https://insurwave.com/images/favicon-16x16.png">
  <!-- Material Kit CSS -->
  <link href="assets/css/material-dashboard.css?v=2.1.0" rel="stylesheet" />

  <style>
    /* for d3 charts */
      body {
        /* font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; */
        /* width: 960px; */
        /* height: 500px; */
        position: relative;
      }
      
      svg {
          width: 100%;
          height: 100%;
          position: center;
      }
      
      text{
          /* font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; */
          /* font: 10px sans-serif; */
          color: #000;
      }
      
      .axis text {
        /* font: 10px sans-serif; */
        color: #000;
      }
      
      .axis path{
        fill: none;
        stroke: #000;
      }
      
      .axis line {
        fill: none;
        stroke: #000;
        shape-rendering: crispEdges;
      }
      
      .axis .tick line {
        stroke-width: 1;
        stroke: rgba(0, 0, 0, 0.2);
      }
      
      .axisHorizontal path{
        fill: none;
      }
      
      .axisHorizontal line {
        fill: none;
        stroke: #000;
        shape-rendering: crispEdges;
      }
      
      .axisHorizontal .tick line {
        stroke-width: 1;
        stroke: rgba(0, 0, 0, 0.2);
      }
      .x.axis path {
        display: none;
      }

      .tick line {
        stroke: #000;
      }
      .domain {
        stroke: #000;  
      }

      .d3-tip {
        line-height: 1;
        font-weight: bold;
        padding: 12px;
        background: rgba(0, 0, 0, 0.8);
        color: #fff;
        border-radius: 2px;
      }
      /* Creates a small triangle extender for the tooltip */
      .d3-tip:after {
        box-sizing: border-box;
        display: inline;
        font-size: 10px;
        width: 100%;
        line-height: 1;
        color: rgba(0, 0, 0, 0.8);
        content: "\25BC";
        position: absolute;
        text-align: center;
      }
      /* Style northward tooltips differently */
      .d3-tip.n:after {
        margin: -1px 0 0 0;
        top: 100%;
        left: 0;
      }

      /* Zones */
      .toolTip {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        position: absolute;
        display: none;
        width: auto;
        height: auto;
        background: none repeat scroll 0 0 white;
        border: 0 none;
        border-radius: 8px 8px 8px 8px;
        box-shadow: -3px 3px 15px #888888;
        color: black;
        font: 12px sans-serif;
        padding: 5px;
        text-align: center;
      }

      .legend {
          font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
          font-size: 60%;
      }

      rect {
          stroke-width: 2;
      }

      .bar {
          fill: steelblue;
          fill-opacity: .9;
      }

      </style>
</head>

<body>
  <div class="wrapper ">
    <div class="sidebar" data-color="purple" data-background-color="black">
      <!--
      Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

      Tip 2: you can also add an image using data-image tag
  -->
      <div class="logo">
        <a href="https://insurwave.com" class="simple-text logo-mini"> 
          
        </a>
        <a href="https://insurwave.com" class="simple-text logo-normal">
          INSURWAVE
        </a>
      </div>
      <div class="sidebar-wrapper">
        <ul class="nav">
          <li class="nav-item active  ">
            <a class="nav-link" href="#0"> <!-- -->
              <i class="material-icons">dashboard</i>
              <p>My Fleet</p>
            </a>
          </li>
          <li class="nav-item ">
                <a class="nav-link" data-toggle="collapse" href="#maersk">
                  <i class="material-icons">directions_boat</i>
                  <p> Maersk
                    <b class="caret"></b>
                  </p>
                </a>
                <div class="collapse" id="maersk">
                  <ul class="nav">
                    <li class="nav-item ">
                      <a class="nav-link" href="vessel.html">
                        <span class="sidebar-mini"> K </span>
                        <span class="sidebar-normal"> Maersk Kimi </span>
                      </a>
                    </li>
                    <li class="nav-item ">
                      <a class="nav-link" href="#">
                        <span class="sidebar-mini"> P </span>
                        <span class="sidebar-normal"> Maersk Palermo </span>
                      </a>
                    </li>
                    <li class="nav-item ">
                      <a class="nav-link" href="#">
                        <span class="sidebar-mini"> V </span>
                        <span class="sidebar-normal"> Maersk Vega </span>
                      </a>
                    </li>
                    <li class="nav-item ">
                            <a class="nav-link" href="#">
                              <span class="sidebar-mini"> V </span>
                              <span class="sidebar-normal"> Maersk Ventura </span>
                            </a>
                          </li>
                  </ul>
                </div>
              </li>
              <li class="nav-item ">
                    <a class="nav-link" data-toggle="collapse" href="#NYK">
                      <i class="material-icons">directions_boat</i>
                      <p> NYK
                        <b class="caret"></b>
                      </p>
                    </a>
                    <div class="collapse" id="NYK">
                      <ul class="nav">
                        <li class="nav-item ">
                          <a class="nav-link" href="#">
                            <span class="sidebar-mini"> BE </span>
                            <span class="sidebar-normal"> BERLIAN EKUATOR </span>
                          </a>
                        </li>
                        <li class="nav-item ">
                          <a class="nav-link" href="#">
                            <span class="sidebar-mini"> J </span>
                            <span class="sidebar-normal"> JINGU </span>
                          </a>
                        </li>
                        <li class="nav-item ">
                          <a class="nav-link" href="#">
                            <span class="sidebar-mini"> T </span>
                            <span class="sidebar-normal"> TOWADA </span>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </li>
                  <li class="nav-item ">
                        <a class="nav-link" data-toggle="collapse" href="#NIMIC">
                          <i class="material-icons">directions_boat</i>
                          <p> NIMIC
                            <b class="caret"></b>
                          </p>
                        </a>
                        <div class="collapse" id="NIMIC">
                          <ul class="nav">
                            <li class="nav-item ">
                              <a class="nav-link" href="#">
                                <span class="sidebar-mini"> T1 </span>
                                <span class="sidebar-normal"> TAITAR NO.1 </span>
                              </a>
                            </li>
                            <li class="nav-item ">
                              <a class="nav-link" href="#">
                                <span class="sidebar-mini"> T2 </span>
                                <span class="sidebar-normal"> TAITAR NO.2 </span>
                              </a>
                            </li>
                            <li class="nav-item ">
                              <a class="nav-link" href="#">
                                <span class="sidebar-mini"> T3 </span>
                                <span class="sidebar-normal"> TAITAR NO.3 </span>
                              </a>
                            </li>
                          </ul>
                        </div>
                      </li>    
        </ul>
      </div>
    </div>
    <div class="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
        <div class="container-fluid">
          <div class="navbar-wrapper">
              <div class="navbar-minimize">
                  <button id="minimizeSidebar" class="btn btn-just-icon btn-white btn-fab btn-round">
                    <i class="material-icons text_align-center visible-on-sidebar-regular">more_vert</i>
                    <i class="material-icons design_bullet-list-67 visible-on-sidebar-mini">view_list</i>
                  </button>
              </div>
            <a class="navbar-brand" href="#">My Fleet</a>
          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end">
            <ul class="navbar-nav">
              <li class="nav-item">
              <select class="selectpicker" data-style="select-with-transition" title="Marine Rules" data-size="7">
              <option disabled> Choose Country</option>
              <option value="2">United Kingdom </option>
              <option value="3">United States</option>
              <option value="4">Singapore</option>
              <option value="5">Hong Kong</option>
              <option value="6">Netherlands </option>
            </select>
            </li>
          </ul>
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="#pablo">
                  <i class="material-icons">notifications</i> Notifications
                </a>
              </li>
              <!-- your navbar here -->
            </ul>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->
      <div class="content">
        <div class="container-fluid">
          <!-- your content here -->
          <div class="row">
          <div class="col-md-12">
              <div class="card">
                <div class="card-header card-header-tabs card-header-primary">
                    <div class="nav-tabs-navigation">
                        <div class="nav-tabs-wrapper">
                          <span class="nav-tabs-title"><h4>My Fleet</h4></span>
                          <ul class="nav nav-tabs" data-tabs="tabs">
                            <li class="nav-item">
                              <a class="nav-link active" href="#planned" data-toggle="tab">
                                <i class="material-icons">schedule</i> Planned
                                <div class="ripple-container"></div>
                              </a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link" href="#actual" data-toggle="tab">
                                <i class="material-icons">my_locations</i> Actual
                                <div class="ripple-container"></div>
                              </a>
                            </li>
                          </ul>
                        </div>
                      </div>
                </div>
                <div class="card-body table-responsive" style="overflow:scroll; height:350px;">
                  <div class="tab-content">
                    <div class="tab-pane active" id="planned">
                      <div class="table-responsive">
                        <table class="table table-hover">
                        <thead>
                          <tr>
                          <th class="text-center">#</th>
                          <th></th>
                          <th>Client</th>
                          <th>Vessel Name</th>
                          <th>IMO</th>
                          <th>Call Sign</th>
                          <th>Vessel Type</th>
                          <th>Flag</th>
                          <th class="text-right">Gross Tonnage</th>
                          <th class="text-right">Built Year</th>
                          <th class="text-right">Age</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class="table-info">
                          <td class="text-center">1</td>
                          <td>
                            <div class="form-check">
                              <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" value="kimiPlanned" id="kimiPlanned" onclick="GetKimiPlannedRoute()">
                                <span class="form-check-sign">
                                  <span class="check"></span>
                                </span>
                              </label>
                            </div>
                          </td>
                          <td>M</td>
                          <td>Maersk Kimi</td>
                          <td>9162227</td>
                          <td>PDHO</td>
                          <td>Container</td>
                          <td>Netherlands</td>
                          <td class="text-right">80942</td>
                          <td class="text-right">1998</td>
                          <td class="text-right">21</td>
                        </tr>
                        <tr>
                            <td class="text-center">2</td>
                            <td>
                              <div class="form-check">
                                <label class="form-check-label">
                                  <input class="form-check-input" type="checkbox">
                                  <span class="form-check-sign">
                                    <span class="check"></span>
                                  </span>
                                </label>
                              </div>
                            </td>
                            <td>M</td>
                            <td>Maersk Vega</td>
                            <td>9294082</td>
                            <td>PPTF</td>
                            <td>Supply</td>
                            <td>Brazil</td>
                            <td class="text-right">3760</td>
                            <td class="text-right">2006</td>
                            <td class="text-right">13</td>
                          </tr>
                          <tr>
                              <td class="text-center">3</td>
                              <td>
                                <div class="form-check">
                                  <label class="form-check-label">
                                    <input class="form-check-input" type="checkbox">
                                    <span class="form-check-sign">
                                      <span class="check"></span>
                                    </span>
                                  </label>
                                </div>
                              </td>
                              <td>M</td>
                              <td>Maersk Ventura</td>
                              <td>9294094</td>
                              <td>PPTL</td>
                              <td>Supply</td>
                              <td>Brazil</td>
                              <td class="text-right">3760</td>
                              <td class="text-right">2006</td>
                              <td class="text-right">13</td>
                            </tr>
                        <tr>
                          <td class="text-center">4</td>
                          <td>
                            <div class="form-check">
                              <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" value="">
                                <span class="form-check-sign">
                                  <span class="check"></span>
                                </span>
                              </label>
                            </div>
                          </td>
                          <td>M</td>
                          <td>BERLIAN EKUATOR</td>
                          <td>9265541</td>
                          <td>HPYK</td>
                          <td>LPG Tanker</td>
                          <td>Singapore</td>
                          <td class="text-right">22209</td>
                          <td class="text-right">1998</td>
                          <td class="text-right">21</td>
                        </tr>
                        <tr>
                          <td class="text-center">5</td>
                          <td>
                            <div class="form-check">
                              <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" value="">
                                <span class="form-check-sign">
                                  <span class="check"></span>
                                </span>
                              </label>
                            </div>
                          </td>
                          <td>K</td>
                          <td>DOHA</td>
                          <td>9085637</td>
                          <td>JNCI</td>
                          <td>LPG Tanker</td>
                          <td>Hong Kong</td>
                          <td class="text-right">111184</td>
                          <td class="text-right">1999</td>
                          <td class="text-right">20</td>
                        </tr>
                        <tr class="table-info">
                          <td class="text-center">6</td>
                          <td>
                            <div class="form-check">
                              <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" value="jinguPlanned" id="jinguPlanned"  onclick="GetJinguPlannedRoute()">
                                <span class="form-check-sign">
                                  <span class="check"></span>
                                </span>
                              </label>
                            </div>
                          </td>
                          <td>K</td>
                          <td>JINGU</td>
                          <td>9021423</td>
                          <td>3FBA</td>
                          <td>Container</td>
                          <td>Hong Kong</td>
                          <td class="text-right">42164</td>
                          <td class="text-right">1992</td>
                          <td class="text-right">27</td>
                        </tr>
                        <tr>
                        <td class="text-center">7</td>
                          <td>
                            <div class="form-check">
                              <label class="form-check-label">
                                <input class="form-check-input" type="checkbox">
                                <span class="form-check-sign">
                                  <span class="check"></span>
                                </span>
                              </label>
                            </div>
                          </td>
                          <td>K</td>
                          <td>TSUGARU</td>
                          <td>9454498</td>
                          <td>7JVF</td>
                          <td>Crude Oil Tanker</td>
                          <td>Hong Kong</td>
                          <td class="text-right">160152</td>
                          <td class="text-right">2001</td>
                          <td class="text-right">18</td>
                        </tr>
                        <tr>
                            <td class="text-center">8</td>
                              <td>
                                <div class="form-check">
                                  <label class="form-check-label">
                                    <input class="form-check-input" type="checkbox">
                                    <span class="form-check-sign">
                                      <span class="check"></span>
                                    </span>
                                  </label>
                                </div>
                              </td>
                              <td>K</td>
                              <td>TOYO</td>
                              <td>9304667</td>
                              <td>H3ZA</td>
                              <td>Crude Oil Tanker</td>
                              <td>Hong Kong</td>
                              <td class="text-right">160098</td>
                              <td class="text-right">2001</td>
                              <td class="text-right">18</td>
                            </tr>
                            <tr>
                                <td class="text-center">9</td>
                                  <td>
                                    <div class="form-check">
                                      <label class="form-check-label">
                                        <input class="form-check-input" type="checkbox">
                                        <span class="form-check-sign">
                                          <span class="check"></span>
                                        </span>
                                      </label>
                                    </div>
                                  </td>
                                  <td>K</td>
                                  <td>TOWADA</td>
                                  <td>9321213</td>
                                  <td>7JXI</td>
                                  <td>Crude Oil Tanker</td>
                                  <td>Singapore</td>
                                  <td class="text-right">159967</td>
                                  <td class="text-right">2002</td>
                                  <td class="text-right">17</td>
                                </tr>
                        <tr class="table-info">
                          <td class="text-center">10</td>
                          <td>
                            <div class="form-check">
                              <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" value="shohjinPlanned" id="shohjinPlanned" onclick="GetShohjinPlannedRoute()">
                                <span class="form-check-sign">
                                  <span class="check"></span>
                                </span>
                              </label>
                            </div>
                          </td>
                          <td>K</td>
                          <td>SHOHJIN</td>
                          <td>9073701</td>
                          <td>3FUX9</td>
                          <td>Container</td>
                          <td>USA</td>
                          <td class="text-right">50308</td>
                          <td class="text-right">1999</td>
                          <td class="text-right">20</td>
                        </tr>
                        <tr>
                            <td class="text-center">11</td>
                            <td>
                              <div class="form-check">
                                <label class="form-check-label">
                                  <input class="form-check-input" type="checkbox">
                                  <span class="form-check-sign">
                                    <span class="check"></span>
                                  </span>
                                </label>
                              </div>
                            </td>
                            <td>N</td>
                            <td>TAITAR NO.1</td>
                            <td>9403669</td>
                            <td>3FJB7</td>
                            <td>LNG Tanker</td>
                            <td>Singapore </td>
                            <td class="text-right">118634</td>
                            <td class="text-right">2009</td>
                            <td class="text-right">10</td>
                          </tr>
                          <tr>
                              <td class="text-center">12</td>
                              <td>
                                <div class="form-check">
                                  <label class="form-check-label">
                                    <input class="form-check-input" type="checkbox">
                                    <span class="form-check-sign">
                                      <span class="check"></span>
                                    </span>
                                  </label>
                                </div>
                              </td>
                              <td>N</td>
                              <td>TAITAR NO.2</td>
                              <td>9403645</td>
                              <td>3EXZ</td>
                              <td>LNG Tanker</td>
                              <td>USA</td>
                              <td class="text-right">118634</td>
                              <td class="text-right">2009</td>
                              <td class="text-right">10</td>
                            </tr>
                            <tr>
                                <td class="text-center">13</td>
                                <td>
                                  <div class="form-check">
                                    <label class="form-check-label">
                                      <input class="form-check-input" type="checkbox">
                                      <span class="form-check-sign">
                                        <span class="check"></span>
                                      </span>
                                    </label>
                                  </div>
                                </td>
                                <td>N</td>
                                <td>TAITAR NO.3</td>
                                <td>9403671</td>
                                <td>3FMD5</td>
                                <td>LNG Tanker</td>
                                <td>Singapore</td>
                                <td class="text-right">118634</td>
                                <td class="text-right">2010</td>
                                <td class="text-right">9</td>
                              </tr>
                              <tr>
                                  <td class="text-center">14</td>
                                  <td>
                                    <div class="form-check">
                                      <label class="form-check-label">
                                        <input class="form-check-input" type="checkbox">
                                        <span class="form-check-sign">
                                          <span class="check"></span>
                                        </span>
                                      </label>
                                    </div>
                                  </td>
                                  <td>H</td>
                                  <td>Hyundai Honour</td>
                                  <td>9473731</td>
                                  <td>9HA4590</td>
                                  <td>Container</td>
                                  <td>Malta</td>
                                  <td class="text-right">141770</td>
                                  <td class="text-right">2012</td>
                                  <td class="text-right">7</td>
                                </tr>
                                <tr>
                                    <td class="text-center">15</td>
                                    <td>
                                      <div class="form-check">
                                        <label class="form-check-label">
                                          <input class="form-check-input" type="checkbox">
                                          <span class="form-check-sign">
                                            <span class="check"></span>
                                          </span>
                                        </label>
                                      </div>
                                    </td>
                                    <td>S</td>
                                    <td>Siem Thiima</td>
                                    <td>9727235</td>
                                    <td>LAUB7</td>
                                    <td>Supply</td>
                                    <td>Norway  </td>
                                    <td class="text-right">4768</td>
                                    <td class="text-right">2016</td>
                                    <td class="text-right">3</td>
                                  </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="tab-pane" id="actual">
                  <div class="table-responsive">
                    <table class="table table-hover">
                    <thead>
                      <tr>
                      <th class="text-center">#</th>
                      <th></th>
                      <th>Client</th>
                      <th>Vessel Name</th>
                      <th>IMO</th>
                      <th>Call Sign</th>
                      <th>Vessel Type</th>
                      <th>Flag</th>
                      <th class="text-right">Gross Tonnage</th>
                      <th class="text-right">Built Year</th>
                      <th class="text-right">Age</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="table-info">
                      <td class="text-center">1</td>
                      <td>
                        <div class="form-check">
                          <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" value="kimiActual" id="kimiActual"  onclick="GetKimiActualRoute()">
                            <span class="form-check-sign">
                              <span class="check"></span>
                            </span>
                          </label>
                        </div>
                      </td>
                      <td>M</td>
                      <td>Maersk Kimi</td>
                      <td>9162227</td>
                      <td>PDHO</td>
                      <td>Container</td>
                      <td>Netherlands</td>
                      <td class="text-right">80942</td>
                      <td class="text-right">1998</td>
                      <td class="text-right">21</td>
                    </tr>
                    <tr>
                        <td class="text-center">2</td>
                        <td>
                          <div class="form-check">
                            <label class="form-check-label">
                              <input class="form-check-input" type="checkbox">
                              <span class="form-check-sign">
                                <span class="check"></span>
                              </span>
                            </label>
                          </div>
                        </td>
                        <td>M</td>
                        <td>Maersk Vega</td>
                        <td>9294082</td>
                        <td>PPTF</td>
                        <td>Supply</td>
                        <td>Brazil</td>
                        <td class="text-right">3760</td>
                        <td class="text-right">2006</td>
                        <td class="text-right">13</td>
                      </tr>
                      <tr>
                          <td class="text-center">3</td>
                          <td>
                            <div class="form-check">
                              <label class="form-check-label">
                                <input class="form-check-input" type="checkbox">
                                <span class="form-check-sign">
                                  <span class="check"></span>
                                </span>
                              </label>
                            </div>
                          </td>
                          <td>M</td>
                          <td>Maersk Ventura</td>
                          <td>9294094</td>
                          <td>PPTL</td>
                          <td>Supply</td>
                          <td>Brazil</td>
                          <td class="text-right">3760</td>
                          <td class="text-right">2006</td>
                          <td class="text-right">13</td>
                        </tr>
                    <tr>
                      <td class="text-center">4</td>
                      <td>
                        <div class="form-check">
                          <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" value="">
                            <span class="form-check-sign">
                              <span class="check"></span>
                            </span>
                          </label>
                        </div>
                      </td>
                      <td>M</td>
                      <td>BERLIAN EKUATOR</td>
                      <td>9265541</td>
                      <td>HPYK</td>
                      <td>LPG Tanker</td>
                      <td>Singapore</td>
                      <td class="text-right">22209</td>
                      <td class="text-right">1998</td>
                      <td class="text-right">21</td>
                    </tr>
                    <tr>
                      <td class="text-center">5</td>
                      <td>
                        <div class="form-check">
                          <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" value="">
                            <span class="form-check-sign">
                              <span class="check"></span>
                            </span>
                          </label>
                        </div>
                      </td>
                      <td>K</td>
                      <td>DOHA</td>
                      <td>9085637</td>
                      <td>JNCI</td>
                      <td>LPG Tanker</td>
                      <td>Hong Kong</td>
                      <td class="text-right">111184</td>
                      <td class="text-right">1999</td>
                      <td class="text-right">20</td>
                    </tr>
                    <tr class="table-info">
                      <td class="text-center">6</td>
                      <td>
                        <div class="form-check">
                          <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" value="jinguActual" id="jinguActual"  onclick="GetJinguActualRoute()">
                            <span class="form-check-sign">
                              <span class="check"></span>
                            </span>
                          </label>
                        </div>
                      </td>
                      <td>K</td>
                      <td>JINGU</td>
                      <td>9021423</td>
                      <td>3FBA</td>
                      <td>Container</td>
                      <td>Hong Kong</td>
                      <td class="text-right">42164</td>
                      <td class="text-right">1992</td>
                      <td class="text-right">27</td>
                    </tr>
                    <tr>
                    <td class="text-center">7</td>
                      <td>
                        <div class="form-check">
                          <label class="form-check-label">
                            <input class="form-check-input" type="checkbox">
                            <span class="form-check-sign">
                              <span class="check"></span>
                            </span>
                          </label>
                        </div>
                      </td>
                      <td>K</td>
                      <td>TSUGARU</td>
                      <td>9454498</td>
                      <td>7JVF</td>
                      <td>Crude Oil Tanker</td>
                      <td>Hong Kong</td>
                      <td class="text-right">160152</td>
                      <td class="text-right">2001</td>
                      <td class="text-right">18</td>
                    </tr>
                    <tr>
                        <td class="text-center">8</td>
                          <td>
                            <div class="form-check">
                              <label class="form-check-label">
                                <input class="form-check-input" type="checkbox">
                                <span class="form-check-sign">
                                  <span class="check"></span>
                                </span>
                              </label>
                            </div>
                          </td>
                          <td>K</td>
                          <td>TOYO</td>
                          <td>9304667</td>
                          <td>H3ZA</td>
                          <td>Crude Oil Tanker</td>
                          <td>Hong Kong</td>
                          <td class="text-right">160098</td>
                          <td class="text-right">2001</td>
                          <td class="text-right">18</td>
                        </tr>
                        <tr>
                            <td class="text-center">9</td>
                              <td>
                                <div class="form-check">
                                  <label class="form-check-label">
                                    <input class="form-check-input" type="checkbox">
                                    <span class="form-check-sign">
                                      <span class="check"></span>
                                    </span>
                                  </label>
                                </div>
                              </td>
                              <td>K</td>
                              <td>TOWADA</td>
                              <td>9321213</td>
                              <td>7JXI</td>
                              <td>Crude Oil Tanker</td>
                              <td>Singapore</td>
                              <td class="text-right">159967</td>
                              <td class="text-right">2002</td>
                              <td class="text-right">17</td>
                            </tr>
                    <tr class="table-info">
                      <td class="text-center">10</td>
                      <td>
                        <div class="form-check">
                          <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" value="shohjinActual" id="shohjinActual" onclick="GetShohjinActualRoute()">
                            <span class="form-check-sign">
                              <span class="check"></span>
                            </span>
                          </label>
                        </div>
                      </td>
                      <td>K</td>
                      <td>SHOHJIN</td>
                      <td>9073701</td>
                      <td>3FUX9</td>
                      <td>Container</td>
                      <td>USA</td>
                      <td class="text-right">50308</td>
                      <td class="text-right">1999</td>
                      <td class="text-right">20</td>
                    </tr>
                    <tr>
                        <td class="text-center">11</td>
                        <td>
                          <div class="form-check">
                            <label class="form-check-label">
                              <input class="form-check-input" type="checkbox">
                              <span class="form-check-sign">
                                <span class="check"></span>
                              </span>
                            </label>
                          </div>
                        </td>
                        <td>N</td>
                        <td>TAITAR NO.1</td>
                        <td>9403669</td>
                        <td>3FJB7</td>
                        <td>LNG Tanker</td>
                        <td>Singapore </td>
                        <td class="text-right">118634</td>
                        <td class="text-right">2009</td>
                        <td class="text-right">10</td>
                      </tr>
                      <tr>
                          <td class="text-center">12</td>
                          <td>
                            <div class="form-check">
                              <label class="form-check-label">
                                <input class="form-check-input" type="checkbox">
                                <span class="form-check-sign">
                                  <span class="check"></span>
                                </span>
                              </label>
                            </div>
                          </td>
                          <td>N</td>
                          <td>TAITAR NO.2</td>
                          <td>9403645</td>
                          <td>3EXZ</td>
                          <td>LNG Tanker</td>
                          <td>USA</td>
                          <td class="text-right">118634</td>
                          <td class="text-right">2009</td>
                          <td class="text-right">10</td>
                        </tr>
                        <tr>
                            <td class="text-center">13</td>
                            <td>
                              <div class="form-check">
                                <label class="form-check-label">
                                  <input class="form-check-input" type="checkbox">
                                  <span class="form-check-sign">
                                    <span class="check"></span>
                                  </span>
                                </label>
                              </div>
                            </td>
                            <td>N</td>
                            <td>TAITAR NO.3</td>
                            <td>9403671</td>
                            <td>3FMD5</td>
                            <td>LNG Tanker</td>
                            <td>Singapore</td>
                            <td class="text-right">118634</td>
                            <td class="text-right">2010</td>
                            <td class="text-right">9</td>
                          </tr>
                          <tr>
                              <td class="text-center">14</td>
                              <td>
                                <div class="form-check">
                                  <label class="form-check-label">
                                    <input class="form-check-input" type="checkbox">
                                    <span class="form-check-sign">
                                      <span class="check"></span>
                                    </span>
                                  </label>
                                </div>
                              </td>
                              <td>H</td>
                              <td>Hyundai Honour</td>
                              <td>9473731</td>
                              <td>9HA4590</td>
                              <td>Container</td>
                              <td>Malta</td>
                              <td class="text-right">141770</td>
                              <td class="text-right">2012</td>
                              <td class="text-right">7</td>
                            </tr>
                            <tr>
                                <td class="text-center">15</td>
                                <td>
                                  <div class="form-check">
                                    <label class="form-check-label">
                                      <input class="form-check-input" type="checkbox">
                                      <span class="form-check-sign">
                                        <span class="check"></span>
                                      </span>
                                    </label>
                                  </div>
                                </td>
                                <td>S</td>
                                <td>Siem Thiima</td>
                                <td>9727235</td>
                                <td>LAUB7</td>
                                <td>Supply</td>
                                <td>Norway  </td>
                                <td class="text-right">4768</td>
                                <td class="text-right">2016</td>
                                <td class="text-right">3</td>
                              </tr>
                  </tbody>
                </table>
              </div>
            </div>
              </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-8">
              <div class="card ">
                  <div class="card-header card-header-primary card-header-icon">
                      <div class="card-icon">
                        <i class="material-icons">map</i>
                      </div>
                      <h4 class="card-title">
                          <div class="form-check">
                              <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" value="weather" id="weather" onclick="ShowWeather()">Show weather
                                <span class="form-check-sign">
                                  <span class="check"></span>
                                </span>
                              </label>
                            </div>
                      </h4>
                    </div>
              <div class="card-body ">
                <h4 class="card-title"></h4>
                <div id="myMap" class="map map-big"></div>
              </div>
              </div>
            </div>
            <div class="col-md-4">
                <div class="card ">
                  <div class="card-header card-header-text card-header-primary">
                    <div class="card-text">
                    <h4 class="card-title">Map Notifications</h4>
                    </div>
                  </div>
                  <div class="card-body " id="notification" style="overflow:scroll; height:470px;">
                  <!-- <div class="alert alert-primary" data-notify="container">
                      <i class="material-icons" data-notify="icon">notifications</i>
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <i class="material-icons">close</i>
                      </button>
                      <span data-notify="message"><b>Maersk Kimi</b>
                          <div class="table-responsive">
                              <table class="table">
                                <thead class="">
                                  <th>
                                    Zone
                                  </th>
                                  <th>
                                    Expected Duration
                                  </th>
                                  <th>
                                    Zone Type
                                  </th>
                                  <th>
                                    Multiple Entries/Exits
                                  </th>
                                  <th>
                                    Prior Approval
                                  </th>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td>
                                      SA
                                    </td>
                                    <td>
                                      2 Days
                                    </td>
                                    <td>
                                        
                                    </td>
                                    <td>
                                      N
                                    </td>
                                    <td class="td-actions text-right">
                                        <button type="button" rel="tooltip" class="btn btn-success" value="kimiSA" id="kimiSA" onclick="ApproveKimiSA()">
                                          <i class="material-icons">check</i>
                                        </button>
                                        <button type="button" rel="tooltip" class="btn btn-danger">
                                          <i class="material-icons">close</i>
                                        </button>
                                      </td>
                                  </tr>
                                  <tr>
                                    <td>
                                      HRA
                                    </td>
                                    <td>
                                      8 Days
                                    </td>
                                    <td>
                                        
                                    </td>
                                    <td>
                                      Y
                                    </td>
                                    <td class="td-actions text-right">
                                        <button type="button" rel="tooltip" class="btn btn-success">
                                          <i class="material-icons">check</i>
                                        </button>
                                        <button type="button" rel="tooltip" class="btn btn-danger">
                                          <i class="material-icons">close</i>
                                        </button>
                                      </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                      </span>
                    </div> -->
                  </div>		                         
                </div>
              </div>
      </div>
        <div class="row">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header card-header-tabs card-header-primary">
                        <div class="nav-tabs-navigation">
                            <div class="nav-tabs-wrapper">
                              <!-- <span class="nav-tabs-title"><h4>Chart</h4></span> -->
                              <ul class="nav nav-tabs" data-tabs="tabs">
                                <li class="nav-item">
                                  <a class="nav-link active" href="#valuation" data-toggle="tab" value="valuation">
                                    <i class="material-icons">bar_chart</i> Fleet Valuation Information
                                    <div class="ripple-container"></div>
                                  </a>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link" href="#zones" data-toggle="tab" value="zones">
                                    <i class="material-icons">bar_chart</i>Restricted Zone Visits Information
                                    <div class="ripple-container"></div>
                                  </a>
                                </li>
                              </ul>
                            </div>
                          </div>
                    </div>
                    <div class="card-body">
                        <div class="tab-content">
                            <div class="tab-pane active" id="valuation">
                            <!-- Selection Category -->
                            <select class="selectpicker" data-size="4" data-style="btn btn-primary btn-round" title="YEAR" value="year">
                              <option disabled>YEAR</option>
                              <option selected value="CC">2018</option>
                              <option value="DD">2019</option>
                              <option value="EE">All</option>
                            </select>
                          <svg id="svg1" width="750" height="500"></svg>
                        </div>
                        <div class="tab-pane" id="zones">
                            <!-- Selection Category -->
                            <select class="selectpicker" data-size="6" data-style="btn btn-primary btn-round" title="CLIENT" value="client">
                              <option disabled>CLIENT</option>
                              <option selected value="AA">MAERSK</option>
                              <option value="BB">NYK</option>
                              <option value="LL">ALL</option>
                            </select>
                          <svg id="svg2" width="750" height="500"></svg>
                        </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                  <div class="card ">
                    <div class="card-header card-header-text card-header-primary">
                      <div class="card-text">
                      <h4 class="card-title">Chart Notifications</h4>
                      </div>
                    </div>
                    <div class="card-body " id="notificationv" style="overflow:scroll; height:575px;">
                      <div id="cc">
                          <div class="timeline-heading">
                              <span class="badge badge-pill badge-info">MAERSK</span>
                            </div>
                        <p>MAERSK paid out a premium of USD 440,000, while the costs spent on claims were USD 110,000. The insured vessels are jointly currently valued at USD 11 mln.<br></p>
                        <div class="timeline-heading">
                            <span class="badge badge-pill badge-info">NYK</span>
                          </div>
                        <p>NYK paid out a premium of USD 1 mln, while the costs spent on claims were USD 1,5 mln. The insured vessels are jointly currently valued at USD 10 mln.<br></p>
                        <div class="timeline-heading">
                            <span class="badge badge-pill badge-info">APL</span>
                          </div>
                        <p>APL paid out a premium of USD 702,000, while the costs spent on claims were USD 800,000. The insured vessels are jointly currently valued at USD 23,4 mln.<br></p>
                        <div class="timeline-heading">
                            <span class="badge badge-pill badge-info">MSC</span>
                          </div>
                        <p>MSC paid out a premium of USD 500,000, while the costs spent on claims were USD 560,000. The insured vessels are jointly currently valued at USD 10 mln. </p>
                      </div>
                    </div>
                  </div>
                </div>
        </div>
      </div>
      <footer class="footer">
        <div class="container-fluid">
          <nav class="float-left">
            <ul>
              <li>
                <a href="https://insurwave.com">
                  Team AI Insurwave
                </a>
              </li>
            </ul>
          </nav>
          <div class="copyright float-right">
            &copy;
            <script>
              document.write(new Date().getFullYear())
            </script>, made by
            <a href="https://insurwave.com" target="_blank">Team AI Insurwave</a>
          </div>
          <!-- your footer here -->
        </div>
      </footer>
    </div>
  </div>
  <!--   Core JS Files   -->
  <script src="assets/js/core/jquery.min.js"></script>
  <script src="assets/js/core/popper.min.js"></script>
  <script src="assets/js/core/bootstrap-material-design.min.js"></script>
  <script src="assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <!-- Plugin for the momentJs  -->
  <script src="assets/js/plugins/moment.min.js"></script>
  <!--  Plugin for Sweet Alert -->
  <script src="assets/js/plugins/sweetalert2.js"></script>
  <!-- Forms Validations Plugin -->
  <script src="assets/js/plugins/jquery.validate.min.js"></script>
  <!-- Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard -->
  <script src="assets/js/plugins/jquery.bootstrap-wizard.js"></script>
  <!--	Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
  <script src="assets/js/plugins/bootstrap-selectpicker.js"></script>
  <!--  Plugin for the DateTimePicker, full documentation here: https://eonasdan.github.io/bootstrap-datetimepicker/ -->
  <script src="assets/js/plugins/bootstrap-datetimepicker.min.js"></script>
  <!--  DataTables.net Plugin, full documentation here: https://datatables.net/  -->
  <script src="assets/js/plugins/jquery.dataTables.min.js"></script>
  <!--	Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
  <script src="assets/js/plugins/bootstrap-tagsinput.js"></script>
  <!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
  <script src="assets/js/plugins/jasny-bootstrap.min.js"></script>
  <!-- Vector Map plugin, full documentation here: http://jvectormap.com/documentation/ -->
  <script src="assets/js/plugins/jquery-jvectormap.js"></script>
  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="assets/js/plugins/nouislider.min.js"></script>
  <!-- Include a polyfill for ES6 Promises (optional) for IE11, UC Browser and Android browser support SweetAlert -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/core-js/2.4.1/core.js"></script>
  <!-- Library for adding dinamically elements -->
  <script src="assets/js/plugins/arrive.min.js"></script>
  <!--  Bing Maps Plugin    -->
  <script type='text/javascript' src='https://www.bing.com/api/maps/mapcontrol?callback=GetMap&setLang=en&setMkt=en-GB&key=AtG0h65a58rN_XG9CBwF21YBrAk82GzkMrzCgf9nlc0KCzdaSY_W4fSOBf3uZA_V' async defer></script>
  <!-- Chartist JS -->
  <script src="assets/js/plugins/chartist.min.js"></script>
  <!--  Notifications Plugin    -->
  <script src="assets/js/plugins/bootstrap-notify.js"></script>
  <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="assets/js/material-dashboard.js?v=2.1.0" type="text/javascript"></script>
  <!-- d3.js -->
  <script type="text/javascript" src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.9.1/d3-tip.js"></script>
  
  <script>
  var map, polygons;
            function GetMap() {
                map = new Microsoft.Maps.Map('#myMap', {
                    center: new Microsoft.Maps.Location(23.34454, 40.66896),
                    mapTypeId: Microsoft.Maps.MapTypeId.aerial,
                    zoom: 4
                });

                // //Load the GeoJSON and HeatMap modules.
                // Microsoft.Maps.loadModule(['Microsoft.Maps.GeoJson', 'Microsoft.Maps.HeatMap'], function () {
                // Microsoft.Maps.GeoJson.readFromUrl(usgsEarthquakeUrl, function (shapes) {
                //   var heatmap = new Microsoft.Maps.HeatMapLayer(shapes, { radius: 5 });
                //   map.layers.insert(heatmap);
                //   });
                // });

                // Marine area
                // Microsoft.Maps.loadModule('Microsoft.Maps.GeoXml', function () {
                //     var layer = new Microsoft.Maps.GeoXmlLayer('http://geo.vliz.be/geoserver/wfs?request=getfeature&service=wfs&version=1.1.0&typename=MarineRegions:iho&outputformat=GML3&filter=%3CPropertyIsEqualTo%3E%3CPropertyName%3Eid%3C%2FPropertyName%3E%3CLiteral%3E37%3C%2FLiteral%3E%3C%2FPropertyIsEqualTo%3Ehttps://raw.githubusercontent.com/winnielin/vessel/master/redSea.xml');
                //     console.log(layer);
                //     map.layers.insert(layer);
                // });
                
            }
                function GetKimiActualRoute() {
                // Get the checkbox
                var checkBox = document.getElementById("kimiActual");
        
                // If the checkbox is checked, display the output text
                  if (checkBox.checked == true){

                    //Create custom Pushpin current location for the vessel
                    var pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(15.94309, 53.74743),
                    {
                      icon: 'assets/img/vesselCurrentLoc.png',
                    });

                    //Add the pushpin to the map
                    map.entities.push(pin);


                    d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/BasicPositionHistoryWithWeatherKIMI.csv")
                      .then(function(data) {
                    var list = [];
                    var dynamic = "";
                    var pin;
                    var len = data.length;
                    for (i=0; i < len; i++) {
                      //Add location point to polyline
                      dynamic = new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude);
                      list.push(dynamic);
                      if (i>0) {
                        if(data[i].Direction !== data[i-1].Direction) {
                          pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude), {
                          icon: 'assets/img/historicalPoint.png'
                          });
                          infobox = new Microsoft.Maps.Infobox(pin, {
                                    visible: false
                                    });
                          //Assign the infobox to a map instance.
                          infobox.setMap(map);
                          //Store some metadata with the pushpin.
                          pin.metadata = {
                            title: data[i].Latitude + ", " + data[i].Longitude,
                            description: "Ship Speed: " + data[i].Speed + " nt</br>"
                                       + "Temperature: " + data[i].Temperature + " C</br>"
                                       + "Wind Speed: " + data[i].Wind_Speed + " m/s"
                          };
                          map.entities.push(pin);
                          //Add mouse events to the pushpin
                          Microsoft.Maps.Events.addHandler(pin, 'mouseover', function (e) {
                            if (e.targetType == "pushpin") {
                          // if (e.target.metadata) {
                          //Set the infobox options with the metadata of the pushpin.
                            infobox.setOptions({
                            location: e.target.getLocation(),
                            title: e.target.metadata.title,
                            description: e.target.metadata.description,
                            visible: true
                            });
                            }                        
                          });
                        }
                      } else {
                        pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude), {
                          icon: 'assets/img/historicalPoint.png'
                        });
                          infobox = new Microsoft.Maps.Infobox(pin, {
                                    visible: false
                                    });
                          //Assign the infobox to a map instance.
                          infobox.setMap(map);
                          //Store some metadata with the pushpin.
                          pin.metadata = {
                            title: data[i].Latitude + ", " + data[i].Longitude,
                            description: "Ship Speed: " + data[i].Speed + " nt</br>"
                                       + "Temperature: " + data[i].Temperature + " C</br>"
                                       + "Wind Speed: " + data[i].Wind_Speed + " m/s"
                          };
                          map.entities.push(pin);
                          //Add mouse events to the pushpin
                          Microsoft.Maps.Events.addHandler(pin, 'mouseover', function (e) {
                            if (e.targetType == "pushpin") {
                            console.log(e.target.getLocation());
                          // if (e.target.metadata) {
                          //Set the infobox options with the metadata of the pushpin.
                            infobox.setOptions({
                            location: e.target.getLocation(),
                            title: e.target.metadata.title,
                            description: e.target.metadata.description,
                            visible: true
                            });
                            }                        
                          });
                      }
                    }
                        
            
                    var line = new Microsoft.Maps.Polyline(list, {
                      strokeColor: 'red',
                      strokeThickness: 2,
                      });
                      map.entities.push(line);

                    }); 

                    //vessel in vincity
                    //Load the spatial math module
                    Microsoft.Maps.loadModule("Microsoft.Maps.SpatialMath", function () {
                      
                      var loc = new Microsoft.Maps.Location(position.coords.latitude, position.coords.longitude);
                      //Create an accuracy circle
                      var path = Microsoft.Maps.SpatialMath.getRegularPolygon(loc, position.coords.accuracy, 36,  Microsoft.Maps.SpatialMath.Meters);
                      var poly = new Microsoft.Maps.Polygon(path);
                      map.entities.push(poly);
                    });

                  } else {
                    for (var i = map.entities.getLength() - 1; i >= 0; i--) {
                      var polyline = map.entities.get(i);
                        if (polyline instanceof Microsoft.Maps.Polyline) {
                            map.entities.removeAt(i);
                        }
                      var pushpin = map.entities.get(i);
                        if (polyline instanceof Microsoft.Maps.Pushpin) {
                            map.entities.removeAt(i);
                        }
                      
                    }
                  }
                }
                function GetJinguActualRoute() {
                // Get the checkbox
                var checkBox = document.getElementById("jinguActual");
        
                // If the checkbox is checked, display the output text
                  if (checkBox.checked == true){

                    //Create custom Pushpin current location for the vessel
                    var pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(12.64903, 58.91744),
                    {
                      icon: 'assets/img/vesselCurrentLoc.png',
                    });

                    //Add the pushpin to the map
                    map.entities.push(pin);

                    d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/BasicPositionHistoryWithWeatherJINGU.csv")
                      .then(function(data) {
                    var list = [];
                    var dynamic = "";
                    var pin;
                    var len = data.length;
                    for (i=0; i < len; i++) {
                      //Add location point to polyline
                      dynamic = new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude);
                      list.push(dynamic);
                      if (i>0) {
                        if(data[i].Direction !== data[i-1].Direction) {
                          pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude), {
                          icon: 'assets/img/historicalPoint.png'
                          });
                          infobox = new Microsoft.Maps.Infobox(pin, {
                                    visible: false
                                    });
                          //Assign the infobox to a map instance.
                          infobox.setMap(map);
                          //Store some metadata with the pushpin.
                          pin.metadata = {
                            title: data[i].Latitude + ", " + data[i].Longitude,
                            description: "Ship Speed: " + data[i].Speed + " nt</br>"
                                       + "Temperature: " + data[i].Temperature + " C</br>"
                                       + "Wind Speed: " + data[i].Wind_Speed + " m/s"
                          };
                          map.entities.push(pin);
                          //Add mouse events to the pushpin
                          Microsoft.Maps.Events.addHandler(pin, 'mouseover', function (e) {
                            if (e.targetType == "pushpin") {
                          // if (e.target.metadata) {
                          //Set the infobox options with the metadata of the pushpin.
                            infobox.setOptions({
                            location: e.target.getLocation(),
                            title: e.target.metadata.title,
                            description: e.target.metadata.description,
                            visible: true
                            });
                            }                        
                          });
                        }
                        d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/WarZones_ISRAEL.csv").then(function(data) {
                          var list = [];
                          var zone = "";
                          var len = data.length;
                          for (i=0; i < len; i++) {
                            zone = new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude);
                            list.push(zone);
                          }
                
                          var polygon = new Microsoft.Maps.Polygon(list, {
                            fillColor: 'transparent',
                            strokeColor: 'brown',
                            strokeThickness: 2,
                        });
                        map.entities.push(polygon);
                  });
                      } else {
                        pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude), {
                          icon: 'assets/img/historicalPoint.png'
                        });
                          infobox = new Microsoft.Maps.Infobox(pin, {
                                    visible: false
                                    });
                          //Assign the infobox to a map instance.
                          infobox.setMap(map);
                          //Store some metadata with the pushpin.
                          pin.metadata = {
                            title: data[i].Latitude + ", " + data[i].Longitude,
                            description: "Ship Speed: " + data[i].Speed + " nt</br>"
                                       + "Temperature: " + data[i].Temperature + " C</br>"
                                       + "Wind Speed: " + data[i].Wind_Speed + " m/s"
                          };
                          map.entities.push(pin);
                          //Add mouse events to the pushpin
                          Microsoft.Maps.Events.addHandler(pin, 'mouseover', function (e) {
                            if (e.targetType == "pushpin") {
                            console.log(e.target.getLocation());
                          // if (e.target.metadata) {
                          //Set the infobox options with the metadata of the pushpin.
                            infobox.setOptions({
                            location: e.target.getLocation(),
                            title: e.target.metadata.title,
                            description: e.target.metadata.description,
                            visible: true
                            });
                            }                        
                          });
                      }
                    }
                      var line = new Microsoft.Maps.Polyline(list, {
                      strokeColor: 'blue',
                      strokeThickness: 2,
                      });
                      map.entities.push(line);
                    });
                    

                  } else {
                    for (var i = map.entities.getLength() - 1; i >= 0; i--) {
                      var polyline = map.entities.get(i);
                        if (polyline instanceof Microsoft.Maps.Polyline) {
                            map.entities.removeAt(i);
                        }
                      var pushpin = map.entities.get(i);
                        if (polyline instanceof Microsoft.Maps.Pushpin) {
                            map.entities.removeAt(i);
                        }
                      
                    }
                  }
                }
                function GetShohjinActualRoute() {
                // Get the checkbox
                var checkBox = document.getElementById("shohjinActual");
        
                // If the checkbox is checked, display the output text
                  if (checkBox.checked == true){

                    //Create custom Pushpin current location for the vessel
                    var pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(12.23666, 60.72469),
                    {
                      icon: 'assets/img/vesselCurrentLoc.png',
                    });

                    //Add the pushpin to the map
                    map.entities.push(pin);

                    d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/BasicPositionHistoryWithWeatherSHOHJIN.csv")
                      .then(function(data) {
                    var list = [];
                    var dynamic = "";
                    var pin;
                    var len = data.length;
                    for (i=0; i < len; i++) {
                      //Add location point to polyline
                      dynamic = new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude);
                      list.push(dynamic);
                      if (i>0) {
                        if(data[i].Direction !== data[i-1].Direction) {
                          pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude), {
                          icon: 'assets/img/historicalPoint.png'
                          });
                          infobox = new Microsoft.Maps.Infobox(pin, {
                                    visible: false
                                    });
                          //Assign the infobox to a map instance.
                          infobox.setMap(map);
                          //Store some metadata with the pushpin.
                          pin.metadata = {
                            title: data[i].Latitude + ", " + data[i].Longitude,
                            description: "Ship Speed: " + data[i].Speed + " nt</br>"
                                       + "Temperature: " + data[i].Temperature + " C</br>"
                                       + "Wind Speed: " + data[i].Wind_Speed + " m/s"
                          };
                          map.entities.push(pin);
                          //Add mouse events to the pushpin
                          Microsoft.Maps.Events.addHandler(pin, 'mouseover', function (e) {
                            if (e.targetType == "pushpin") {
                          // if (e.target.metadata) {
                          //Set the infobox options with the metadata of the pushpin.
                            infobox.setOptions({
                            location: e.target.getLocation(),
                            title: e.target.metadata.title,
                            description: e.target.metadata.description,
                            visible: true
                            });
                            }                        
                          });
                        }
                      } else {
                        pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude), {
                          icon: 'assets/img/historicalPoint.png'
                        });
                          infobox = new Microsoft.Maps.Infobox(pin, {
                                    visible: false
                                    });
                          //Assign the infobox to a map instance.
                          infobox.setMap(map);
                          //Store some metadata with the pushpin.
                          pin.metadata = {
                            title: data[i].Latitude + ", " + data[i].Longitude,
                            description: "Ship Speed: " + data[i].Speed + " nt</br>"
                                       + "Temperature: " + data[i].Temperature + " C</br>"
                                       + "Wind Speed: " + data[i].Wind_Speed + " m/s"
                          };
                          map.entities.push(pin);
                          //Add mouse events to the pushpin
                          Microsoft.Maps.Events.addHandler(pin, 'mouseover', function (e) {
                            if (e.targetType == "pushpin") {
                            console.log(e.target.getLocation());
                          // if (e.target.metadata) {
                          //Set the infobox options with the metadata of the pushpin.
                            infobox.setOptions({
                            location: e.target.getLocation(),
                            title: e.target.metadata.title,
                            description: e.target.metadata.description,
                            visible: true
                            });
                            }                        
                          });
                      }
                    }
                      var line = new Microsoft.Maps.Polyline(list, {
                      strokeColor: 'green',
                      strokeThickness: 2,
                      });
                      map.entities.push(line);
                    });
                    
                    map.setView ({
                        center: new Microsoft.Maps.Location(12.23666, 60.72469),
                        zoom: 10
                      });

                    //Create custom Pushpin current location for the vessel
                    var pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(12.23666, 60.92469),
                    {
                      icon: 'assets/img/vesselinVincity.png',
                    });

                    //Add the pushpin to the map
                    map.entities.push(pin);

                    var pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(12.03666, 60.72469),
                    {
                      icon: 'assets/img/vesselinVincity.png',
                    });

                    //Add the pushpin to the map
                    map.entities.push(pin);
                    
                    //Load the spatial math module
                    Microsoft.Maps.loadModule("Microsoft.Maps.SpatialMath", function () {
                        var center = map.getCenter();
                        //Create an accuracy circle
                        var circle = createCircle(center, 17, 'rgba(0,0,150,0.3)');
                        map.entities.push(circle);

                        //Create a blue circle that has a 10 pixel radius as a pushpin and add to map.
                        var labelPin = createCirclePushpin(new Microsoft.Maps.Location(12.23666, 60.72469), 10, 'rgba(0,0,150,0.1)');

                        //Store a reference to the label pushpin in the polygon metadata.
                        circle.metadata = { label: labelPin };    

                        //Add the label pushpin to the map.
                        map.entities.push(labelPin);
                        });

                  } else {
                    for (var i = map.entities.getLength() - 1; i >= 0; i--) {
                      var polyline = map.entities.get(i);
                        if (polyline instanceof Microsoft.Maps.Polyline) {
                            map.entities.removeAt(i);
                        }
                      var pushpin = map.entities.get(i);
                        if (polyline instanceof Microsoft.Maps.Pushpin) {
                            map.entities.removeAt(i);
                        }
                      
                    }
                  }
                }

                function createCircle(center, radius, color) {
                  //Calculate the locations for a regular polygon that has 36 locations which will rssult in an approximate circle.
                    var locs = Microsoft.Maps.SpatialMath.getRegularPolygon(center, radius, 36, Microsoft.Maps.SpatialMath.DistanceUnits.Miles);
                    polygon = new Microsoft.Maps.Polygon(locs, { fillColor: color, strokeThickness: 1 });
                    return polygon;
                  }  
                function createCirclePushpin(location, radius, fillColor, strokeColor, strokeWidth) {
                      strokeWidth = strokeWidth || 0;

                  //Create an SVG string of a circle with the specified radius and color.
                    var svg = ['<svg xmlns="http://www.w3.org/2000/svg" width="', (radius * 2),
                    '" height="', (radius * 2), '"><circle cx="', radius, '" cy="', radius, '" r="',
                    (radius - strokeWidth), '" stroke="', strokeColor, '" stroke-width="', strokeWidth, '" fill="', fillColor, '"/></svg>'];

                  //Create a pushpin from the SVG and anchor it to the center of the circle.
                    return new Microsoft.Maps.Pushpin(location, {
                    icon: svg.join(''),
                    anchor: new Microsoft.Maps.Point(radius, radius),
                    title: "100M"
                    });
                  }

                function GetKimiPlannedRoute() {
                // Get the checkbox
                var checkBox = document.getElementById("kimiPlanned");

                // If the checkbox is checked, display the output text
                if (checkBox.checked == true){
                  //Create custom Pushpin current location for the vessel
                  var pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(36.59544, 36.18998),
                    {
                      icon: 'assets/img/vesselCurrentLoc.png',
                    });

                    //Add the pushpin to the map
                    map.entities.push(pin);
                  
                  d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/BasicPositionHistoryWithWeatherKIMI.csv")
                  .then(function(data) {
                  var list = [];
                  var dynamic = "";
                  var len = data.length;
                  for (i=0; i < len; i++) {
                      dynamic = new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude);
                      list.push(dynamic);
                  }
                  var line = new Microsoft.Maps.Polyline(list, {
                      strokeColor: 'red',
                      strokeThickness: 2,
                  });
                  map.entities.push(line);
              });

              //show zones        
                  d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/WarZones_HRA.csv").then(function(data) {
                            var list = [];
                            var zone = "";
                            var len = data.length;
                            for (i=0; i < len; i++) {
                              zone = new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude);
                              list.push(zone);
                          
                            }
                      
                      var polygon = new Microsoft.Maps.Polygon(list, {
                          fillColor: 'transparent',
                          strokeColor: 'brown',
                          strokeThickness: 2,
                      });
                      map.entities.push(polygon);
                  });

                  d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/WarZones_ERITREA.csv").then(function(data) {
                            var list = [];
                            var zone = "";
                            var len = data.length;
                            for (i=0; i < len; i++) {
                              zone = new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude);
                              list.push(zone);
                          
                            }
                      
                      var polygon = new Microsoft.Maps.Polygon(list, {
                          fillColor: 'transparent',
                          strokeColor: 'brown',
                          strokeThickness: 2,
                      });
                      map.entities.push(polygon);
                  });

                  d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/WarZones_YEMEN.csv").then(function(data) {
                            var list = [];
                            var zone = "";
                            var len = data.length;
                            for (i=0; i < len; i++) {
                              zone = new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude);
                              list.push(zone);
                          
                            }
                      
                      var polygon = new Microsoft.Maps.Polygon(list, {
                          fillColor: 'transparent',
                          strokeColor: 'brown',
                          strokeThickness: 2,
                      });
                      map.entities.push(polygon);
                  });
                          
                          d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/WarZones_SA.csv").then(function(data) {
                            var list = [];
                            var zone = "";
                            var len = data.length;
                            for (i=0; i < len; i++) {
                              zone = new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude);
                              list.push(zone);
                          
                            }
                      
                      var polygon = new Microsoft.Maps.Polygon(list, {
                          fillColor: 'transparent',
                          strokeColor: 'brown',
                          strokeThickness: 2,
                      });
                      map.entities.push(polygon);
                  });
                
              } else {
                  for (var i = map.entities.getLength() - 1; i >= 0; i--) {
                      var polyline = map.entities.get(i);
                        if (polyline instanceof Microsoft.Maps.Polyline) {
                            map.entities.removeAt(i);
                        }
                      var pushpin = map.entities.get(i);
                        if (pushpin instanceof Microsoft.Maps.Pushpin) {
                            map.entities.removeAt(i);
                        }
                  }
          }
      }
                function GetJinguPlannedRoute() {
                // Get the checkbox
                var checkBox = document.getElementById("jinguPlanned");

                // If the checkbox is checked, display the output text
                if (checkBox.checked == true){
                  //Create custom Pushpin current location for the vessel
                  var pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(29.53157, 34.94194),
                    {
                      icon: 'assets/img/vesselCurrentLoc.png',
                    });

                    //Add the pushpin to the map
                    map.entities.push(pin);
                  
                  d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/BasicPositionHistoryWithWeatherJINGU.csv")
                  .then(function(data) {
                  var list = [];
                  var dynamic = "";
                  var len = data.length;
                  for (i=0; i < len; i++) {
                      dynamic = new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude);
                      list.push(dynamic);
                  }
                  var line = new Microsoft.Maps.Polyline(list, {
                      strokeColor: 'blue',
                      strokeThickness: 2,
                  });
                  map.entities.push(line);
              });

              //show zones        
                  d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/WarZones_HRA.csv").then(function(data) {
                            var list = [];
                            var zone = "";
                            var len = data.length;
                            for (i=0; i < len; i++) {
                              zone = new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude);
                              list.push(zone);
                          
                            }
                      
                      var polygon = new Microsoft.Maps.Polygon(list, {
                          fillColor: 'transparent',
                          strokeColor: 'brown',
                          strokeThickness: 2,
                      });
                      map.entities.push(polygon);
                  });
                
              } else {
                  for (var i = map.entities.getLength() - 1; i >= 0; i--) {
                      var polyline = map.entities.get(i);
                        if (polyline instanceof Microsoft.Maps.Polyline) {
                            map.entities.removeAt(i);
                        }
                      var pushpin = map.entities.get(i);
                        if (pushpin instanceof Microsoft.Maps.Pushpin) {
                            map.entities.removeAt(i);
                        }
                  }
          }
      }
                function GetShohjinPlannedRoute() {
                // Get the checkbox
                var checkBox = document.getElementById("shohjinPlanned");

                // If the checkbox is checked, display the output text
                if (checkBox.checked == true){
                  //Create custom Pushpin current location for the vessel
                  var pin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(29.50292, 34.93681),
                    {
                      icon: 'assets/img/vesselCurrentLoc.png',
                    });

                    //Add the pushpin to the map
                    map.entities.push(pin);
                  
                  d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/BasicPositionHistoryWithWeatherSHOHJIN.csv")
                  .then(function(data) {
                  var list = [];
                  var dynamic = "";
                  var len = data.length;
                  for (i=0; i < len; i++) {
                      dynamic = new Microsoft.Maps.Location(data[i].Latitude, data[i].Longitude);
                      list.push(dynamic);
                  }
                  var line = new Microsoft.Maps.Polyline(list, {
                      strokeColor: 'green',
                      strokeThickness: 2,
                  });
                  map.entities.push(line);
              });

                
              } else {
                  for (var i = map.entities.getLength() - 1; i >= 0; i--) {
                      var polyline = map.entities.get(i);
                        if (polyline instanceof Microsoft.Maps.Polyline) {
                            map.entities.removeAt(i);
                        }
                      var pushpin = map.entities.get(i);
                        if (pushpin instanceof Microsoft.Maps.Pushpin) {
                            map.entities.removeAt(i);
                        }
                  }
          }
      }
                function ShowWeather() {
                // Get the checkbox
                var checkBox = document.getElementById("weather");

                // If the checkbox is checked, display the output text
                if (checkBox.checked == true){
                  // Custom tiles of Hurricane Katrina for zoom level 1-10
                var katrinaTileSource = new Microsoft.Maps.TileSource({
                    uriConstructor: 'https://bingmapsisdk.blob.core.windows.net/katrinatiles/{quadkey}.png',
                    minZoom: 1,
                    maxZoom: 10,
                    bounds: Microsoft.Maps.LocationRect.fromEdges(35.176, -101.065, 14.01, -80.538)
                });
                var katrinaTileLayer = new Microsoft.Maps.TileLayer({
                    mercator: katrinaTileSource,
                });
                map.layers.insert(katrinaTileLayer);
                  
              } else {
                  for (var i = map.entities.getLength() - 1; i >= 0; i--) {
                      var polyline = map.entities.get(i);
                        if (polyline instanceof Microsoft.Maps.Polyline) {
                            map.entities.removeAt(i);
                        }
                      var pushpin = map.entities.get(i);
                        if (pushpin instanceof Microsoft.Maps.Pushpin) {
                            map.entities.removeAt(i);
                        }
                  }
          }
      }
  </script>

  <script>
  //map notification
    $(document).ready(function(){
        $(":checkbox[value=kimiPlanned]").click(function(){
            if($(this).prop("checked") == true){
              $("#notification").append(
              "<div class=\"alert alert-primary\" data-notify=\"container\" id=\"kimi\">" +
              "<i class=\"material-icons\" data-notify=\"icon\">notifications</i>" +
              "<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">" +
              "<i class=\"material-icons\">close</i></button>" +
              "<span data-notify=\"icon\" class=\"now-ui-icons ui-1_bell-53\"></span>" + 
              "<span data-notify=\"message\"><b> Maersk Kimi</b>" + 

              "<div class=\"table-responsive\"><table class=\"table\"><thead class=\"\">" +
              "<th style=\"font-size:10px\">Zone</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Expected Duration</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Multiple Entries/Exits</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Prior Approval</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Deviation</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Deviation Option</th></thead>" + 

              "<tbody><tr><td style=\"font-size:10px\">SA</td>" +
              "<td style=\"font-size:10px; text-align:center;\">2 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">YEMEN</td>" +
              "<td style=\"font-size:10px; text-align:center;\">1 Day</td>" +
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">ERITREA_HRA</td>" +
              "<td style=\"font-size:10px; text-align:center;\">3 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">HRA</td>" +
              "<td style=\"font-size:10px; text-align:center;\">8 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "</tbody></table></div></span></div>");
            }
            else if($(this).prop("checked") == false){
              $("#kimi").remove();
            }
        });
    });
    $(document).ready(function(){
        $(":checkbox[value=kimiActual]").click(function(){
            if($(this).prop("checked") == true){
              $("#notification").append(
              "<div class=\"alert alert-primary\" data-notify=\"container\" id=\"kimi\">" +
              "<i class=\"material-icons\" data-notify=\"icon\">notifications</i>" +
              "<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">" +
              "<i class=\"material-icons\">close</i></button>" +
              "<span data-notify=\"icon\" class=\"now-ui-icons ui-1_bell-53\"></span>" + 
              "<span data-notify=\"message\"><b> Maersk Kimi</b>" + 

              "<div class=\"table-responsive\"><table class=\"table\"><thead class=\"\">" +
              "<th style=\"font-size:10px\">Zone</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Expected Duration</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Multiple Entries/Exits</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Prior Approval</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Deviation</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Deviation Option</th></thead>" + 

              "<tbody><tr><td style=\"font-size:10px\">SA</td>" +
              "<td style=\"font-size:10px; text-align:center;\">2 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">YEMEN</td>" +
              "<td style=\"font-size:10px; text-align:center;\">1 Day</td>" +
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">ERITREA_HRA</td>" +
              "<td style=\"font-size:10px; text-align:center;\">3 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">HRA</td>" +
              "<td style=\"font-size:10px; text-align:center;\">8 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "</tbody></table></div></span></div>");
            }
            else if($(this).prop("checked") == false){
              $("#kimi").remove();
            }
        });
    });
    $(document).ready(function(){
        $(":checkbox[value=jinguPlanned]").click(function(){
            if($(this).prop("checked") == true){
              $("#notification").append(
              "<div class=\"alert alert-primary\" data-notify=\"container\" id=\"jingu\">" +
              "<i class=\"material-icons\" data-notify=\"icon\">notifications</i>" +
              "<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">" +
              "<i class=\"material-icons\">close</i></button>" +
              "<span data-notify=\"icon\" class=\"now-ui-icons ui-1_bell-53\"></span>" + 
              "<span data-notify=\"message\"><b>JINGU</b>" + 

              "<div class=\"table-responsive\"><table class=\"table\"><thead class=\"\">" +
              "<th style=\"font-size:10px\">Zone</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Expected Duration</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Multiple Entries/Exits</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Prior Approval</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Deviation</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Deviation Option</th></thead>" + 

              "<tbody><tr><td style=\"font-size:10px\">ISAREL</td>" +
              "<td style=\"font-size:10px; text-align:center;\">3 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">SA</td>" +
              "<td style=\"font-size:10px; text-align:center;\">5 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">HRA</td>" +
              "<td style=\"font-size:10px; text-align:center;\">2 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "</tbody></table></div></span></div>");
            }
            else if($(this).prop("checked") == false){
              $("#jingu").remove();
            }
        });
    });
    $(document).ready(function(){
        $(":checkbox[value=jinguActual]").click(function(){
            if($(this).prop("checked") == true){
              $("#notification").append(
              "<div class=\"alert alert-primary\" data-notify=\"container\" id=\"jingu\">" +
              "<i class=\"material-icons\" data-notify=\"icon\">notifications</i>" +
              "<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">" +
              "<i class=\"material-icons\">close</i></button>" +
              "<span data-notify=\"icon\" class=\"now-ui-icons ui-1_bell-53\"></span>" + 
              "<span data-notify=\"message\"><b>JINGU</b>" + 

              "<div class=\"table-responsive\"><table class=\"table\"><thead class=\"\">" +
              "<th style=\"font-size:10px\">Zone</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Expected Duration</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Multiple Entries/Exits</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Prior Approval</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Deviation</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Deviation Option</th></thead>" + 

              "<tbody><tr><td style=\"font-size:10px\">ISAREL</td>" +
              "<td style=\"font-size:10px; text-align:center;\">3 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">SA</td>" +
              "<td style=\"font-size:10px; text-align:center;\">5 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">HRA</td>" +
              "<td style=\"font-size:10px; text-align:center;\">2 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "</tbody></table></div></span></div>");
            }
            else if($(this).prop("checked") == false){
              $("#jingu").remove();
            }
        });
    });
    $(document).ready(function(){
        $(":checkbox[value=shohjinPlanned]").click(function(){
            if($(this).prop("checked") == true){
              $("#notification").append(
              "<div class=\"alert alert-primary\" data-notify=\"container\" id=\"shohjin\">" +
              "<i class=\"material-icons\" data-notify=\"icon\">notifications</i>" +
              "<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">" +
              "<i class=\"material-icons\">close</i></button>" +
              "<span data-notify=\"icon\" class=\"now-ui-icons ui-1_bell-53\"></span>" + 
              "<span data-notify=\"message\"><b>SHOHJIN</b>" + 

              "<div class=\"table-responsive\"><table class=\"table\"><thead class=\"\">" +
              "<th style=\"font-size:10px\">Zone</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Expected Duration</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Multiple Entries/Exits</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Prior Approval</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Deviation</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Deviation Option</th></thead>" + 

              "<tbody><tr><td style=\"font-size:10px\">ISAREL</td>" +
              "<td style=\"font-size:10px; text-align:center;\">1 Day</td>" +
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">SA</td>" +
              "<td style=\"font-size:10px; text-align:center;\">8 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">YEMEN</td>" +
              "<td style=\"font-size:10px; text-align:center;\">2 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "</tbody></table></div></span></div>");
            }
            else if($(this).prop("checked") == false){
              $("#shohjin").remove();
            }
        });
    });
    $(document).ready(function(){
        $(":checkbox[value=shohjinActual]").click(function(){
            if($(this).prop("checked") == true){
              $("#notification").append(
              "<div class=\"alert alert-primary\" data-notify=\"container\" id=\"shohjin\">" +
              "<i class=\"material-icons\" data-notify=\"icon\">notifications</i>" +
              "<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">" +
              "<i class=\"material-icons\">close</i></button>" +
              "<span data-notify=\"icon\" class=\"now-ui-icons ui-1_bell-53\"></span>" + 
              "<span data-notify=\"message\"><b>SHOHJIN</b>" + 

              "<div class=\"table-responsive\"><table class=\"table\"><thead class=\"\">" +
              "<th style=\"font-size:10px\">Zone</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Expected Duration</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Multiple Entries/Exits</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Prior Approval</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Deviation</th>" + 
              "<th style=\"font-size:8px; text-align:center;\">Deviation Option</th></thead>" + 

              "<tbody><tr><td style=\"font-size:10px\">ISAREL</td>" +
              "<td style=\"font-size:10px; text-align:center;\">1 Day</td>" +
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">SA</td>" +
              "<td style=\"font-size:10px; text-align:center;\">8 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "<tr><td style=\"font-size:10px\">YEMEN</td>" +
              "<td style=\"font-size:10px; text-align:center;\">2 Days</td>" +
              "<td style=\"font-size:12px; text-align:center;\">N</td>" + 
              "<td class=\"td-actions text-center\"><button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"  value=\"kimiSA\" id=\"kimiSA\" onclick=\"ApproveKimiSA()\"><i class=\"material-icons\">check</i></button>" + 
              "<button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"><i class=\"material-icons\">close</i></button></td>" + 
              "<td style=\"font-size:12px; text-align:center;\">Y</td>" + 
              "<td class=\"td-actions text-center\"><button class=\"btn btn-success btn-sm\" style=\"font-size:8px\">Charge more</button>" + 
              "<button class=\"btn btn-danger btn-sm\" style=\"font-size:8px\">Charge less</button></td></tr>" + 

              "</tbody></table></div></span></div>");
            }
            else if($(this).prop("checked") == false){
              $("#shohjin").remove();
            }
        });
    });

    </script>

  <script>
      $(document).ready(function() {
        $().ready(function() {
          $sidebar = $('.sidebar');
  
          $sidebar_img_container = $sidebar.find('.sidebar-background');
  
          $full_page = $('.full-page');
  
          $sidebar_responsive = $('body > .navbar-collapse');
  
          window_width = $(window).width();
  
          fixed_plugin_open = $('.sidebar .sidebar-wrapper .nav li.active a p').html();
  
          if (window_width > 767 && fixed_plugin_open == 'Dashboard') {
            if ($('.fixed-plugin .dropdown').hasClass('show-dropdown')) {
              $('.fixed-plugin .dropdown').addClass('open');
            }
  
          }
  
          $('.fixed-plugin a').click(function(event) {
            // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active
            if ($(this).hasClass('switch-trigger')) {
              if (event.stopPropagation) {
                event.stopPropagation();
              } else if (window.event) {
                window.event.cancelBubble = true;
              }
            }
          });
  
          $('.fixed-plugin .active-color span').click(function() {
            $full_page_background = $('.full-page-background');
  
            $(this).siblings().removeClass('active');
            $(this).addClass('active');
  
            var new_color = $(this).data('color');
  
            if ($sidebar.length != 0) {
              $sidebar.attr('data-color', new_color);
            }
  
            if ($full_page.length != 0) {
              $full_page.attr('filter-color', new_color);
            }
  
            if ($sidebar_responsive.length != 0) {
              $sidebar_responsive.attr('data-color', new_color);
            }
          });
  
          $('.fixed-plugin .background-color .badge').click(function() {
            $(this).siblings().removeClass('active');
            $(this).addClass('active');
  
            var new_color = $(this).data('background-color');
  
            if ($sidebar.length != 0) {
              $sidebar.attr('data-background-color', new_color);
            }
          });
  
          $('.fixed-plugin .img-holder').click(function() {
            $full_page_background = $('.full-page-background');
  
            $(this).parent('li').siblings().removeClass('active');
            $(this).parent('li').addClass('active');
  
  
            var new_image = $(this).find("img").attr('src');
  
            if ($sidebar_img_container.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
              $sidebar_img_container.fadeOut('fast', function() {
                $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
                $sidebar_img_container.fadeIn('fast');
              });
            }
  
            if ($full_page_background.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
              var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');
  
              $full_page_background.fadeOut('fast', function() {
                $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
                $full_page_background.fadeIn('fast');
              });
            }
  
            if ($('.switch-sidebar-image input:checked').length == 0) {
              var new_image = $('.fixed-plugin li.active .img-holder').find("img").attr('src');
              var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');
  
              $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
              $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
            }
  
            if ($sidebar_responsive.length != 0) {
              $sidebar_responsive.css('background-image', 'url("' + new_image + '")');
            }
          });
  
          $('.switch-sidebar-image input').change(function() {
            $full_page_background = $('.full-page-background');
  
            $input = $(this);
  
            if ($input.is(':checked')) {
              if ($sidebar_img_container.length != 0) {
                $sidebar_img_container.fadeIn('fast');
                $sidebar.attr('data-image', '#');
              }
  
              if ($full_page_background.length != 0) {
                $full_page_background.fadeIn('fast');
                $full_page.attr('data-image', '#');
              }
  
              background_image = true;
            } else {
              if ($sidebar_img_container.length != 0) {
                $sidebar.removeAttr('data-image');
                $sidebar_img_container.fadeOut('fast');
              }
  
              if ($full_page_background.length != 0) {
                $full_page.removeAttr('data-image', '#');
                $full_page_background.fadeOut('fast');
              }
  
              background_image = false;
            }
          });
  
          $('.switch-sidebar-mini input').change(function() {
            $body = $('body');
  
            $input = $(this);
  
            if (md.misc.sidebar_mini_active == true) {
              $('body').removeClass('sidebar-mini');
              md.misc.sidebar_mini_active = false;
  
              $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar();
  
            } else {
  
              $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar('destroy');
  
              setTimeout(function() {
                $('body').addClass('sidebar-mini');
  
                md.misc.sidebar_mini_active = true;
              }, 300);
            }
  
            // we simulate the window Resize so the charts will get updated in realtime.
            var simulateWindowResize = setInterval(function() {
              window.dispatchEvent(new Event('resize'));
            }, 180);
  
            // we stop the simulation of Window Resize after the animations are completed
            setTimeout(function() {
              clearInterval(simulateWindowResize);
            }, 1000);
  
          });
        });
      });
    </script>
    
    <script>
    //chart notification
    $(document).ready(function(){
      $("select.selectpicker[value=year]").change(function(){
          if($(this).children("option:selected").val() == "DD"){
            $("#aa").remove();
            $("#bb").remove();
            $("#cc").remove();
            $("#ee").remove();
            $("#ll").remove();
            $("#notificationv").append(
              "<div id=\"dd\"><div class=\"timeline-heading\">" + 
              "<span class=\"badge badge-pill badge-info\">MAERSK</span></div>" + 
              "<p>MAERSK paid out a premium of USD 1,12 mln, while it posted a gross claims provision of USD 960,000 of which USD 720,000 had been paid. The insured vessels are jointly currently valued at USD 11,2 mln.<br></p>" +
              "<div class=\"timeline-heading\">" + 
              "<span class=\"badge badge-pill badge-info\">NYK</span></div>" + 
              "<p>NYK paid out a premium of USD 700,000, while it posted a gross claims provision of USD 620,000 of which USD 350,000 had been paid. The insured vessels are jointly currently valued at USD 7 mln.<br></p>" +
              "<div class=\"timeline-heading\">" + 
              "<span class=\"badge badge-pill badge-info\">APL</span></div>" + 
              "<p>APL paid out a premium of USD 2,475 mln, while it posted a gross claims provision of USD 2 mln of which USD 1,3 mln had been paid. The insured vessels are jointly currently valued at USD 22,5 mln.<br></p>" + 
              "<div class=\"timeline-heading\">" + 
              "<span class=\"badge badge-pill badge-info\">MSC</span></div>" + 
              "<p>MSC paid out a premium of USD 1,6 mln, while it posted a gross claims provision of USD 2,5 mln of which USD 2 mln had been paid. The insured vessels are jointly currently valued at USD 8 mln.</p></div>"
            );
          }
          else if($(this).children("option:selected").val() == "CC"){
            $("#aa").remove();
            $("#bb").remove();
            $("#dd").remove();
            $("#ee").remove();
            $("#ll").remove();
            $("#notificationv").append(
              "<div id=\"cc\"><div class=\"timeline-heading\">" + 
              "<span class=\"badge badge-pill badge-info\">MAERSK</span></div>" + 
              "<p>MAERSK paid out a premium of USD 1,04 mln, while it posted a gross claims provision of USD 1,5 mln of which USD 800,000 had been paid. The insured vessels are jointly currently valued at USD 11 mln.<br></p>" +
              "<div class=\"timeline-heading\">" + 
              "<span class=\"badge badge-pill badge-info\">NYK</span></div>" + 
              "<p>NYK paid out a premium of USD 1 mln, while it posted a gross claims provision of USD 750,000 of which USD 500,000 had been paid. The insured vessels are jointly currently valued at USD 10 mln.<br></p>" + 
              "<div class=\"timeline-heading\">" + 
              "<span class=\"badge badge-pill badge-info\">APL</span></div>" + 
              "<p>APL paid out a premium of USD 702,000, while it posted a gross claims provision of USD 551,000 of which USD 351,000 had been paid. The insured vessels are jointly currently valued at USD 23,4 mln.<br></p>" + 
              "<div class=\"timeline-heading\">" + 
              "<span class=\"badge badge-pill badge-info\">MSC</span></div>" + 
              "<p>MSC paid out a premium of USD 1 mln, while it posted a gross claims provision of USD 600,000 of which USD 350,000 had been paid. The insured vessels are jointly currently valued at USD 10 mln.</p></div>"
            );
          }
          else if($("select.selectpicker[value=year]").children("option:selected").val() == "EE"){
                    $("#aa").remove();
                    $("#bb").remove();
                    $("#cc").remove();
                    $("#dd").remove();
                    $("#ll").remove();
                    $("#notificationv").append(
                      "<div id=\"ee\"><div class=\"timeline-heading\">" + 
                      "<span class=\"badge badge-pill badge-info\">MAERSK</span></div>" + 
                      "<p>The total amount of premium paid by MAERSK for two years reached USD 1,56 mln, while gross claims amounted to USD 619,000.<br></p>" +
                      "<div class=\"timeline-heading\">" + 
                      "<span class=\"badge badge-pill badge-info\">NYK</span></div>" + 
                      "<p>The total amount of premium paid by NYK for two years reached USD 1,7 mln, while gross claims amounted to USD 970,000.<br></p>" + 
                      "<div class=\"timeline-heading\">" + 
                      "<span class=\"badge badge-pill badge-info\">APL</span></div>" + 
                      "<p>The total amount of premium paid by APL for two years reached USD 3,177 mln, while gross claims amounted to USD 2,021 mln.<br></p>" + 
                      "<div class=\"timeline-heading\">" + 
                      "<span class=\"badge badge-pill badge-info\">MSC</span></div>" + 
                      "<p>The total amount of premium paid by MSC for two years reached USD 2,6 mln, while gross claims amounted to USD 2,2 mln.</p></div>"
                    );
          }
        });
      });

      $(document).ready(function(){
        $("a.nav-link[value=valuation]").click(function(){
          if($("select.selectpicker[value=year]").children("option:selected").val() == "DD"){
              $("#aa").remove();
              $("#bb").remove();
              $("#cc").remove();
              $("#ee").remove();
              $("#ll").remove();
              $("#notificationv").append(
                "<div id=\"dd\"><div class=\"timeline-heading\">" + 
                "<span class=\"badge badge-pill badge-info\">MAERSK</span></div>" + 
                "<p>MAERSK paid out a premium of USD 1,12 mln, while it posted a gross claims provision of USD 960,000 of which USD 720,000 had been paid. The insured vessels are jointly currently valued at USD 11,2 mln.<br></p>" +
                "<div class=\"timeline-heading\">" + 
                "<span class=\"badge badge-pill badge-info\">NYK</span></div>" + 
                "<p>NYK paid out a premium of USD 700,000, while it posted a gross claims provision of USD 620,000 of which USD 350,000 had been paid. The insured vessels are jointly currently valued at USD 7 mln.<br></p>" +
                "<div class=\"timeline-heading\">" + 
                "<span class=\"badge badge-pill badge-info\">APL</span></div>" + 
                "<p>APL paid out a premium of USD 2,475 mln, while it posted a gross claims provision of USD 2 mln of which USD 1,3 mln had been paid. The insured vessels are jointly currently valued at USD 22,5 mln.<br></p>" + 
                "<div class=\"timeline-heading\">" + 
                "<span class=\"badge badge-pill badge-info\">MSC</span></div>" + 
                "<p>MSC paid out a premium of USD 1,6 mln, while it posted a gross claims provision of USD 2,5 mln of which USD 2 mln had been paid. The insured vessels are jointly currently valued at USD 8 mln.</p></div>"
              );  
          }
          else if($("select.selectpicker[value=year]").children("option:selected").val() == "CC"){
                    $("#aa").remove();
                    $("#bb").remove();
                    $("#dd").remove();
                    $("#ee").remove();
                    $("#ll").remove();
                    $("#notificationv").append(
                      "<div id=\"cc\"><div class=\"timeline-heading\">" + 
                      "<span class=\"badge badge-pill badge-info\">MAERSK</span></div>" + 
                      "<p>MAERSK paid out a premium of USD 1,04 mln, while it posted a gross claims provision of USD 1,5 mln of which USD 800,000 had been paid. The insured vessels are jointly currently valued at USD 11 mln.<br></p>" +
                      "<div class=\"timeline-heading\">" + 
                      "<span class=\"badge badge-pill badge-info\">NYK</span></div>" + 
                      "<p>NYK paid out a premium of USD 1 mln, while it posted a gross claims provision of USD 750,000 of which USD 500,000 had been paid. The insured vessels are jointly currently valued at USD 10 mln.<br></p>" + 
                      "<div class=\"timeline-heading\">" + 
                      "<span class=\"badge badge-pill badge-info\">APL</span></div>" + 
                      "<p>APL paid out a premium of USD 702,000, while it posted a gross claims provision of USD 551,000 of which USD 351,000 had been paid. The insured vessels are jointly currently valued at USD 23,4 mln.<br></p>" + 
                      "<div class=\"timeline-heading\">" + 
                      "<span class=\"badge badge-pill badge-info\">MSC</span></div>" + 
                      "<p>MSC paid out a premium of USD 1 mln, while it posted a gross claims provision of USD 600,000 of which USD 350,000 had been paid. The insured vessels are jointly currently valued at USD 10 mln.</p></div>"
                    );
                }
          else if($("select.selectpicker[value=year]").children("option:selected").val() == "EE"){
                    $("#aa").remove();
                    $("#bb").remove();
                    $("#cc").remove();
                    $("#dd").remove();
                    $("#ll").remove();
                    $("#notificationv").append(
                      "<div id=\"ee\"><div class=\"timeline-heading\">" + 
                      "<span class=\"badge badge-pill badge-info\">MAERSK</span></div>" + 
                      "<p>The total amount of premium paid by MAERSK for two years reached USD 1,56 mln, while gross claims amounted to USD 619,000.<br></p>" +
                      "<div class=\"timeline-heading\">" + 
                      "<span class=\"badge badge-pill badge-info\">NYK</span></div>" + 
                      "<p>The total amount of premium paid by NYK for two years reached USD 1,7 mln, while gross claims amounted to USD 970,000.<br></p>" + 
                      "<div class=\"timeline-heading\">" + 
                      "<span class=\"badge badge-pill badge-info\">APL</span></div>" + 
                      "<p>The total amount of premium paid by APL for two years reached USD 3,177 mln, while gross claims amounted to USD 2,021 mln.<br></p>" + 
                      "<div class=\"timeline-heading\">" + 
                      "<span class=\"badge badge-pill badge-info\">MSC</span></div>" + 
                      "<p>The total amount of premium paid by MSC for two years reached USD 2,6 mln, while gross claims amounted to USD 2,2 mln.</p></div>"
                    );
          }
        }); 
      }); 
          $(document).ready(function(){
          $("select.selectpicker[value=client]").change(function(){
          if($(this).children("option:selected").val() == "BB"){
                  $("#aa").remove();
                  $("#cc").remove();
                  $("#dd").remove();
                  $("#ee").remove();
                  $("#ll").remove();
                  $("#notificationv").append(
                    "<div id=\"bb\"><div class=\"timeline-heading\">" + 
                    "<span class=\"badge badge-pill badge-info\">2015</span></div>" + 
                    "<p>In 2015, NYK Lines signed a joint-venture agreement with Ports Development Company (PDC) to establish NYKs first exclusive RORO terminal operating company at King Abdullah port (KAP) on the Red Sea coast of Saudi Arabia.<br></p>" +
                    "<div class=\"timeline-heading\">" + 
                    "<span class=\"badge badge-pill badge-info\">IRAN and IRAQ</span></div>" + 
                    "<p>NYK Lines has reduced the number of zone calls to IRAN and IRAQ regions since the US tightened oil sanctions against Iran.<br></p></div>"
                  );
                }
            else if($(this).children("option:selected").val() == "AA"){
                  $("#bb").remove();
                  $("#cc").remove();
                  $("#dd").remove();
                  $("#ee").remove();
                  $("#ll").remove();
                  $("#notificationv").append(
                    "<div id=\"aa\"><div class=\"timeline-heading\">" + 
                    "<span class=\"badge badge-pill badge-info\">2015</span></div>" + 
                    "<p>MAERSK has reduced zone calls to IRAN and IRAQ after Maersk ship and Danish crew were seized in Strait of Hormuz in 2015.<br></p>" + 
                    "<div class=\"timeline-heading\">" + 
                    "<span class=\"badge badge-pill badge-info\">2017</span></div>" + 
                    "<p>In June 2017, MAERSK found themselves unable to get cargo into Qatar via the Middle Easts primary feeder gateway Jebel Ali Port after Saudi Arabia, Egypt, the United Arab Emirates and Bahrain imposed sanctions on Qatar in a major regional diplomatic dispute. The number of zone calls to East Saudi Arabi reduced significantly.<br></p></div>"
                  );
                }
            else if($(this).children("option:selected").val() == "LL"){
                  $("#aa").remove();
                  $("#bb").remove();
                  $("#cc").remove();
                  $("#dd").remove();
                  $("#ee").remove();
                  $("#notificationv").append(
                    "<div id=\"ll\"><div class=\"timeline-heading\">" + 
                    "<span class=\"badge badge-pill badge-info\">Overall</span></div>" + 
                    "<p>The total number of restricted zone visits by all clients has significantly decreased throughout the reported period.<br></p>" + 
                    "<p>Shipping companies have been diverting vessels from the area where multiple attacks on vessels were reported and while tensions in the Strait and the Gulf were high.<br></p></div>"
                  );
                }
          });
        });

        $(document).ready(function(){
        $("a.nav-link[value=zones]").click(function(){
          if($("select.selectpicker[value=client]").children("option:selected").val() == "BB"){
                  $("#aa").remove();
                  $("#cc").remove();
                  $("#dd").remove();
                  $("#ee").remove();
                  $("#ll").remove();
                  $("#notificationv").append(
                    "<div id=\"bb\"><div class=\"timeline-heading\">" + 
                    "<span class=\"badge badge-pill badge-info\">2015</span></div>" + 
                    "<p>In 2015, NYK Lines signed a joint-venture agreement with Ports Development Company (PDC) to establish NYKs first exclusive RORO terminal operating company at King Abdullah port (KAP) on the Red Sea coast of Saudi Arabia.<br></p>" +
                    "<div class=\"timeline-heading\">" + 
                    "<span class=\"badge badge-pill badge-info\">IRAN and IRAQ</span></div>" + 
                    "<p>NYK Lines has reduced the number of zone calls to IRAN and IRAQ regions since the US tightened oil sanctions against Iran.<br></p></div>"
                  );
          }
          else if($("select.selectpicker[value=client]").children("option:selected").val() == "AA"){
                  $("#bb").remove();
                  $("#cc").remove();
                  $("#dd").remove();
                  $("#ee").remove();
                  $("#ll").remove();
                  $("#notificationv").append(
                    "<div id=\"aa\"><div class=\"timeline-heading\">" + 
                    "<span class=\"badge badge-pill badge-info\">2015</span></div>" + 
                    "<p>MAERSK has reduced zone calls to IRAN and IRAQ after Maersk ship and Danish crew were seized in Strait of Hormuz in 2015.<br></p>" + 
                    "<div class=\"timeline-heading\">" + 
                    "<span class=\"badge badge-pill badge-info\">2017</span></div>" + 
                    "<p>In June 2017, MAERSK found themselves unable to get cargo into Qatar via the Middle Easts primary feeder gateway Jebel Ali Port after Saudi Arabia, Egypt, the United Arab Emirates and Bahrain imposed sanctions on Qatar in a major regional diplomatic dispute. The number of zone calls to East Saudi Arabi reduced significantly.<br></p></div>"
                  );
                }
          else if($("select.selectpicker[value=client]").children("option:selected").val() == "LL"){
                  $("#aa").remove();
                  $("#bb").remove();
                  $("#cc").remove();
                  $("#dd").remove();
                  $("#ee").remove();
                  $("#notificationv").append(
                    "<div id=\"ll\"><div class=\"timeline-heading\">" + 
                    "<span class=\"badge badge-pill badge-info\">Overall</span></div>" + 
                    "<p>The total number of restricted zone visits by all clients has significantly decreased throughout the reported period.<br></p>" + 
                    "<p>Shipping companies have been diverting vessels from the area where multiple attacks on vessels were reported and while tensions in the Strait and the Gulf were high.<br></p></div>"
                  );
                }
        }); 
      }); 
    </script>

<script>
    //valuation chart
    (function chart1(){
      var speed = 0;

      d3.csv("https://raw.githubusercontent.com/nataliaokuneva/data_vessel/master/claim.csv").then(function(data) {

          chart(data, "CC")
          //change .selectpicker[value=year]
          d3.selectAll(".selectpicker[value=year]").on("change", function() {
              speed = 750;
              chart.update(data, this.value)
          })

      });

      function chart(data, input) {

          var z = d3.scaleOrdinal()
              .range(["#003366","#99CCFF","#3399FF","#0066CC"]);
          
          // Create a tooltip
          var tip = d3.tip().attr('class', 'd3-tip').direction('e').offset([0,5])
                  .html(function(d) {
                      return d.value;
                  });
          //change svg id
          var svg = d3.select("#svg1"),
              margin = {top: 35, right: 35, bottom: 35, left: 35},
              width = +svg.attr("width") - margin.left - margin.right,
              height = +svg.attr("height") - margin.top - margin.bottom;

          var keys = data.columns.slice(1, 5, 9);

          var x0 = d3.scaleBand()
              .domain(data.map(d => d.State))
              .range([margin.left, width - margin.right])
              .padding(0.1);

          var x1 = d3.scaleBand()
              .domain(keys)
              .rangeRound([0, x0.bandwidth()]);

          var y = d3.scaleLinear()
              .range([height, margin.top]);

          svg.append("g")
              .attr("class", "x-axis");

          svg.append("g")
            .attr("class", "y-axis");
            

          // Handmade legend
          svg.append("rect").attr("x",width-165).attr("y",height-417).attr("width", 13).attr('height', 13).style("fill", "#003366")
          svg.append("rect").attr("x",width-165).attr("y",height-402).attr("width", 13).attr('height', 13).style("fill", "#99CCFF")
          svg.append("rect").attr("x",width-165).attr("y",height-387).attr("width", 13).attr('height', 13).style("fill", "#3399FF")
          svg.append("rect").attr("x",width-165).attr("y",height-372).attr("width", 13).attr('height', 13).style("fill", "#0066CC")


          svg.append("text").attr("x", width-145).attr("y", height-410).text("Valuation, USD").style("font-size", "15px").attr("alignment-baseline","middle")
          svg.append("text").attr("x", width-145).attr("y", height-394).text("Premium, USD").style("font-size", "15px").attr("alignment-baseline","middle")
          svg.append("text").attr("x", width-145).attr("y", height-378).text("Claims paid, USD").style("font-size", "15px").attr("alignment-baseline","middle")
          svg.append("text").attr("x", width-145).attr("y", height-362).text("Claims outstanding, USD").style("font-size", "15px").attr("alignment-baseline","middle")

          var xAxis = g => g
              .attr("transform", "translate(0," + height + ")")
              .call(d3.axisBottom(x0)
                  .tickSizeOuter(0))

          var yAxis = g => g
              .attr("transform", 
                  "translate(" + margin.left + ",0)")
              .call(d3.axisLeft(y).ticks(null, "s"))

          svg.call(tip);

          update(data, input);

          function update(data, input) {

              var copy = [];

              keys.forEach(function(t) {
                  t = t.slice(0, -2)
                  copy.push(t)
              })

              y.domain([0, d3.max(data, function(d) {
                  return d3.max(copy, function(key) {
                      return d3.sum([d[key + input]])
                  }); 
              })]).nice();

              var barGroups = svg.selectAll(".layer")
                  .data(data, d => d.State);

              barGroups.exit().remove();

              barGroups.enter().append("g")
                  .classed('layer', true);

              svg.selectAll(".layer").transition().duration(speed)
                  .attr("transform", function(d, i) {
                      return "translate(" + x0(d.State) + ",0)";
                  });

              var bars = svg.selectAll(".layer").selectAll(".bars")
                  .data(function(d) { 
                      return copy.map(function(key) {
                          return {key: key + input, value: d[key + input]}; 
                      }); 
                  });

              bars = bars
                  .enter()
              .append("rect")
                  .attr("class", "bars")
                  .attr("x", d => x1(d.key))
                  .attr("width", x1.bandwidth())
                  .attr("fill", d => z(d.key))
                  .merge(bars);

              bars.transition().duration(speed)
                  .attr("height", d => height - y(d["value"]))
                  .attr("y", d => y(d.value))

              svg.selectAll(".x-axis").transition().duration(speed)
                  .call(xAxis);
              
              svg.selectAll(".y-axis").transition().duration(speed)
                  .call(yAxis);

              svg.call(zoom);


              function zoom(group) {
              
                  var extent = [
                      [margin.left, margin.top], 
                      [width - margin.right, height - margin.top]
                  ];
                  
                  group.call(d3.zoom()
                      .scaleExtent([1, 2])
                      .translateExtent(extent)
                      .extent(extent)
                      .on("zoom", zoomed));
                  
                  function zoomed() {
              
                      x0.range(
                          [margin.left, width - margin.right]
                          .map(d => d3.event.transform.applyX(d)));
                      x1.rangeRound([0, x0.bandwidth()]);
              
                      group.selectAll(".layer")
                          .attr("transform", function(d) { 
                              return "translate(" + x0(d.State) + ",0)"; 
                          });
                      group.selectAll(".bars")
                          .attr("x", function(d) { 
                              return x1(d.key)
                          })
                          .attr("width", x1.bandwidth());
              
                      group.selectAll(".x-axis")
                          .call(xAxis);
                  }
              }

          }

          chart.update = update;   
      };
  }())
      </script>

<script>
  (function chart2(){
    //zones chart
    var speed = 0;

    d3.csv("https://raw.githubusercontent.com/winnielin/vessel/master/data/zonesdata.csv").then(function(data) {

        chart(data, "AA")
        //change .selectpicker[value=client]
        d3.selectAll(".selectpicker[value=client]").on("change", function() {
            speed = 750;
            chart.update(data, this.value)
        })

    });

    function chart(data, input) {

        var z = d3.scaleOrdinal()
            .range(["#ca0020","#f4a582","#d5d5d5","#92c5de","#0571b0"]);
        //change svg id
        var svg = d3.select("#svg2"),
            margin = {top: 35, right: 35, bottom: 35, left: 35},
            width = +svg.attr("width") - margin.left - margin.right,
            height = +svg.attr("height") - margin.top - margin.bottom;

        var keys = data.columns.slice(1, 6, 11);

        var x0 = d3.scaleBand()
            .domain(data.map(d => d.State))
            .range([margin.left, width - margin.right])
            .padding(0.1);

        var x1 = d3.scaleBand()
            .domain(keys)
            .rangeRound([0, x0.bandwidth()]);

        var y = d3.scaleLinear()
            .range([height, margin.top]);

        svg.append("g")
            .attr("class", "x-axis");

        svg.append("g")
          .attr("class", "y-axis");

        // Handmade legend
        svg.append("rect").attr("x",width-135).attr("y",height-417).attr("width", 13).attr('height', 13).style("fill", "#ca0020")
        svg.append("rect").attr("x",width-135).attr("y",height-402).attr("width", 13).attr('height', 13).style("fill", "#f4a582")
        svg.append("rect").attr("x",width-135).attr("y",height-387).attr("width", 13).attr('height', 13).style("fill", "#d5d5d5")
        svg.append("rect").attr("x",width-135).attr("y",height-372).attr("width", 13).attr('height', 13).style("fill", "#92c5de")
        svg.append("rect").attr("x",width-135).attr("y",height-357).attr("width", 13).attr('height', 13).style("fill", "#0571b0")
        svg.append("text").attr("x", width-115).attr("y", height-410).text("IRAN").style("font-size", "12px").attr("alignment-baseline","middle")
        svg.append("text").attr("x", width-115).attr("y", height-394).text("IRAQ").style("font-size", "12px").attr("alignment-baseline","middle")
        svg.append("text").attr("x", width-115).attr("y", height-378).text("BENIN").style("font-size", "12px").attr("alignment-baseline","middle")
        svg.append("text").attr("x", width-115).attr("y", height-363).text("KHOR").style("font-size", "12px").attr("alignment-baseline","middle")
        svg.append("text").attr("x", width-115).attr("y", height-348).text("TTW").style("font-size", "12px").attr("alignment-baseline","middle")

        var xAxis = g => g
            .attr("transform", "translate(0," + height + ")")
            .call(d3.axisBottom(x0)
                .tickSizeOuter(0))

        var yAxis = g => g
            .attr("transform", 
                "translate(" + margin.left + ",0)")
            .call(d3.axisLeft(y).ticks(null, "s"))

        update(data, input);

        function update(data, input) {

            var copy = [];

            keys.forEach(function(t) {
                t = t.slice(0, -2)
                copy.push(t)
            })

            y.domain([0, d3.max(data, function(d) {
                return d3.max(copy, function(key) {
                    return d3.sum([d[key + input]])
                }); 
            })]).nice();

            var barGroups = svg.selectAll(".layer")
                .data(data, d => d.State);

            barGroups.exit().remove();

            barGroups.enter().append("g")
                .classed('layer', true);

            svg.selectAll(".layer").transition().duration(speed)
                .attr("transform", function(d, i) {
                    return "translate(" + x0(d.State) + ",0)";
                });

            var bars = svg.selectAll(".layer").selectAll(".bars")
                .data(function(d) { 
                    return copy.map(function(key) {
                        return {key: key + input, value: d[key + input]}; 
                    }); 
                });

            bars = bars
                .enter()
            .append("rect")
                .attr("class", "bars")
                .attr("x", d => x1(d.key))
                .attr("width", x1.bandwidth())
                .attr("fill", d => z(d.key))
                .merge(bars);

            bars.transition().duration(speed)
                .attr("height", d => height - y(d["value"]))
                .attr("y", d => y(d.value))

            svg.selectAll(".x-axis").transition().duration(speed)
                .call(xAxis);
            
            svg.selectAll(".y-axis").transition().duration(speed)
                .call(yAxis);

            svg.call(zoom);

            function zoom(group) {
            
                var extent = [
                    [margin.left, margin.top], 
                    [width - margin.right, height - margin.top]
                ];
                
                group.call(d3.zoom()
                    .scaleExtent([1, 2])
                    .translateExtent(extent)
                    .extent(extent)
                    .on("zoom", zoomed));
                
                function zoomed() {
            
                    x0.range(
                        [margin.left, width - margin.right]
                        .map(d => d3.event.transform.applyX(d)));
                    x1.rangeRound([0, x0.bandwidth()]);
            
                    group.selectAll(".layer")
                        .attr("transform", function(d) { 
                            return "translate(" + x0(d.State) + ",0)"; 
                        });
                    group.selectAll(".bars")
                        .attr("x", function(d) { 
                            return x1(d.key)
                        })
                        .attr("width", x1.bandwidth());
            
                    group.selectAll(".x-axis")
                        .call(xAxis);
                }
            }

        }

        chart.update = update;   
        };
  }())
  </script>
  
</body>

</html>

<!--
 =========================================================
 Material Dashboard PRO - v2.1.0
 =========================================================

 Product Page: https://www.creative-tim.com/product/material-dashboard-pro
 Copyright 2019 Creative Tim (https://www.creative-tim.com)

 Coded by Creative Tim

 =========================================================

 The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->